# 10. Course Schedule

## 題目
有 n 門課程,編號從 0 到 n-1。給定先修課程關係陣列 prerequisites,其中 [a, b] 表示要修 a 必須先修 b。
判斷是否可能完成所有課程(即是否存在循環依賴)。

## 面試重點
此題是**有向圖的拓撲排序與環檢測**,測試圖論的經典演算法。兩種主要方法:

**方法一:DFS 檢測環**
- 用三種狀態標記:未訪問(0)、訪問中(1)、已完成(2)
- 訪問中再次遇到 → 存在環
- 核心:DFS 過程中維護「當前路徑」的狀態

**方法二:BFS 拓撲排序(Kahn's Algorithm)**
- 計算每個節點的入度
- 將入度為 0 的節點加入佇列
- 處理節點時,將其鄰居的入度 -1
- 若最後處理的節點數 < n,存在環

面試官會重點觀察:
- 能否正確建立鄰接串列(adjacency list)
- DFS 三色標記法的理解:白(未訪問)、灰(訪問中)、黑(已完成)
- BFS 方法中入度陣列的維護
- 能否解釋拓撲排序的應用場景:依賴關係、任務排程
- 兩種方法的優劣:DFS 更直觀,BFS 可直接得到拓撲序列

此題是**圖論在實際問題中的應用**:依賴管理、編譯順序、專案排程等。

## 複雜度
- 時間複雜度:O(V + E),V 為課程數,E 為依賴關係數
- 空間複雜度:O(V + E),鄰接串列和遞迴堆疊

## Follow-up
- 若要輸出一個有效的修課順序,該如何修改?
- 若有多個拓撲排序,如何找出字典序最小的?
- 若要找出最短的修課學期數(可同時修多門課),該用什麼方法?