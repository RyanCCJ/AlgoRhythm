
# 8. Lowest Common Ancestor of Binary Tree

## 題目
給定二元樹和兩個節點 p 和 q,找出它們的最低共同祖先(LCA)。
LCA 定義:p 和 q 的共同祖先中,深度最大的節點。

## 面試重點
此題測試**後序遍歷的回傳值設計**,核心思路是「資訊向上傳遞」:
1. 如果當前節點是 p 或 q,回傳當前節點
2. 遞迴左右子樹,檢查是否找到 p 或 q
3. 如果左右都找到(left != null && right != null),當前節點就是 LCA
4. 如果只有一邊找到,回傳那一邊的結果(LCA 在該子樹中)

面試官會重點觀察:
- 能否理解後序遍歷(先處理子樹,再處理當前節點)的必要性
- 回傳值的語義:null 表示沒找到,非 null 表示找到了 p/q 或 LCA
- 四種情況的判斷邏輯:
  - 當前節點是 p 或 q
  - 左右子樹都找到 → 當前是 LCA
  - 只有左子樹找到 → LCA 在左子樹
  - 只有右子樹找到 → LCA 在右子樹
- 與 BST 的 LCA 區別:BST 可利用大小關係,一般二元樹需要遍歷

此題展現了**如何設計遞迴回傳值來傳遞多重資訊**。

## 複雜度
- 時間複雜度:O(n)
- 空間複雜度:O(h),遞迴堆疊深度

## Follow-up
- 若是 BST,如何利用有序性質優化?
- 若有父節點指標,能否用 O(1) 空間解決?
- 若要找 k 個節點的 LCA,該如何修改?