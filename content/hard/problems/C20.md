# 20. Word Search II

## 題目
給定 m×n 字母網格 board 和字串列表 words,找出所有在網格中出現的單詞。
單詞路徑可以由相鄰格子(上下左右)的字母組成,同一格子不能重複使用。

## 面試重點
此題測試**Trie + DFS 回溯的組合**,是優化搜尋的進階技巧。

核心思路:
1. **建立 Trie**:將所有 words 插入 Trie
2. **DFS 搜尋**:
   - 遍歷 board 每個格子作為起點
   - DFS 時同時在 Trie 中前進
   - 若到達 Trie 的 isEnd,找到一個單詞
3. **優化**:
   - 找到單詞後,將 Trie 中的 isEnd 標記為 False,避免重複
   - 剪枝:若 Trie 節點無子節點,提前返回

關鍵優化:
- 用 Trie 而非逐一搜尋每個單詞:共享前綴,減少重複計算
- DFS 過程中同時在 Trie 和 board 中前進
- 及時標記已找到的單詞,避免重複

面試官會重點觀察:
- 能否識別這需要 Trie 優化
- DFS 與 Trie 遍歷的同步
- 訪問標記:臨時修改 board 或用 visited 集合
- 去重:同一單詞不重複計入
- Trie 的動態修改:找到後刪除或標記

**常考公司**:
- Google(Trie + DFS 綜合)
- Amazon(Word Search 系列)
- 遊戲公司(拼字遊戲相關)
- 難度極高,綜合考察

此題展現了**Trie 如何優化多模式匹配**,是 Trie 應用的巔峰。

## 複雜度
- 時間複雜度:O(m × n × 4^L),L 為最長單詞長度
- 空間複雜度:O(N × L),N 為單詞數,L 為平均長度

## Follow-up
- 若 board 非常大,如何分散式處理?
- 若單詞表動態變化,如何優化?
- 若允許對角線移動,演算法如何調整?
- 若同一格子可以重複使用,會有什麼問題?