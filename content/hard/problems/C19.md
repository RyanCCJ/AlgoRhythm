# 19. N-Queens

## 題目
在 n×n 棋盤上放置 n 個皇后,使得任意兩個皇后不能互相攻擊(同行、同列、同對角線)。
回傳所有可能的解決方案。

## 面試重點
此題是**回溯法的經典應用**,測試對約束條件的建模與剪枝優化。

核心思路:
1. 逐行放置皇后
2. 每行嘗試每個列位置
3. 檢查是否與已放置的皇后衝突:
   - 同列:用 Set 記錄已使用的列
   - 主對角線(↘):row - col 相同
   - 副對角線(↙):row + col 相同
4. 放置後遞迴下一行,回溯時撤銷

優化技巧:
- 用 Set 快速檢查衝突
- 對角線用 row±col 作為唯一標識
- 不需檢查同行:逐行放置天然避免

面試官會重點觀察:
- 能否正確建模衝突條件
- 對角線衝突的數學表達
- 回溯框架的正確實作
- 結果格式:字串陣列的生成
- 時間複雜度分析:O(n!)的理解

**常考公司**:
- Google(回溯法經典)
- Microsoft、Amazon
- 組合優化問題的代表
- 展現演算法思維深度

此題展現了**如何用回溯法解決組合問題**,是理解回溯的必做題。

## 複雜度
- 時間複雜度:O(n!)
- 空間複雜度:O(n),遞迴深度

## Follow-up
- 若只需要回傳解的數量,能否優化?
- 若棋盤大小非常大(如 100×100),如何處理?
- 若要放置 k 個皇后而非 n 個,演算法如何調整?
- 能否用位運算優化衝突檢查?