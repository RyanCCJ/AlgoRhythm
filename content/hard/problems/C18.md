# 18. Trapping Rain Water

## 題目
給定 n 個非負整數表示高度圖,每個柱子寬度為 1,計算下雨後能接多少水。

## 面試重點
此題測試**雙指標 + 貪心思想**,展現從 O(n) 空間到 O(1) 空間的優化。

**方法一:動態規劃 O(n) 空間**
- leftMax[i]:位置 i 左邊的最大高度
- rightMax[i]:位置 i 右邊的最大高度
- water[i] = min(leftMax[i], rightMax[i]) - height[i]

**方法二:雙指標 O(1) 空間**
- 用兩個指標從兩端向中間移動
- 維護 leftMax 和 rightMax
- 較矮一側決定積水量
- 移動較矮一側的指標

核心洞察:
- 每個位置的積水量取決於兩側最大值的較小者
- 雙指標方法利用:已知一側更高時,另一側的最大值決定積水

面試官會重點觀察:
- 能否畫圖理解積水原理
- DP 方法的狀態定義與轉移
- 雙指標方法的正確性證明
- 為何移動較矮一側:另一側更高保證了積水高度
- 邊界處理:兩端不積水

**常考公司**:
- Google(高頻)
- Facebook/Meta、Amazon
- 雙指標技巧的代表題
- 展現空間優化能力

此題展現了**如何從 DP 優化到雙指標**,是空間優化的經典案例。

## 複雜度
**DP 方法**:
- 時間複雜度:O(n)
- 空間複雜度:O(n)

**雙指標方法**:
- 時間複雜度:O(n)
- 空間複雜度:O(1)

## Follow-up
- 若是二維平面(矩陣),如何計算積水量?
- 若柱子有不同寬度,演算法如何調整?
- 若要找積水最多的連續區間,該如何修改?