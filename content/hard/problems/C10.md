# 10. Sliding Window Maximum

## 題目
給定整數陣列 nums 和滑動窗口大小 k,回傳每個窗口位置的最大值。

## 面試重點
此題測試**單調佇列(Monotonic Queue)**的應用,是資料結構設計的經典題。

核心思路:
- 維護一個雙端佇列(deque),存儲索引
- 佇列保持遞減順序:front 是當前窗口最大值的索引
- 加入新元素時:
  1. 移除超出窗口範圍的元素
  2. 從後面移除所有小於當前元素的元素
  3. 加入當前元素
- 佇列首元素即為窗口最大值

關鍵洞察:
- 若 nums[i] ≥ nums[j] 且 i > j,則 nums[j] 永遠不可能是答案
- 單調性保證每個元素最多進出佇列各一次,amortized O(1)

面試官會重點觀察:
- 能否識別這不是簡單的堆問題:堆無法 O(log n) 刪除任意元素
- 單調佇列的維護邏輯:為何從後面刪除
- 為何儲存索引而非值:需要判斷是否在窗口內
- deque 的使用:Python collections.deque
- 邊界處理:前 k-1 個元素不輸出

**常考公司**:
- Google(單調棧/佇列系列)
- Bloomberg、Citadel(金融數據處理)
- 時序數據處理相關公司
- 需要即時計算統計量的場景

此題展現了**單調資料結構的威力**,是滑動窗口問題的進階技巧。

## 複雜度
- 時間複雜度:O(n)
- 空間複雜度:O(k)

## Follow-up
- 若要找滑動窗口的中位數,該用什麼資料結構?
- 若要同時維護最大值和最小值,如何優化?
- 若 k 非常大,接近 n,有更好的方法嗎?
- 若要找第 k 大而非最大值,演算法如何調整?